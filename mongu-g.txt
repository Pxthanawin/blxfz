print("[ok]")

task.spawn(function()
    local SERVER_IP = "34.100.164.157"
    local SERVER_PORT = 14421
    local HEARTBEAT_INTERVAL = 5

    local HttpService = game:GetService("HttpService")
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local GuiService = game:GetService("GuiService")
    local TeleportService = game:GetService("TeleportService")

    local isSystemActive = true
    local lastHeartbeatSent = 0
    local hasSentSuccess = false

    repeat task.wait() until Players.LocalPlayer
    local LocalPlayer = Players.LocalPlayer

    local characterLoadTimeout = 75

    task.spawn(function()
        if not characterLoadTimeout then return end
        characterLoadTimeout = ((characterLoadTimeout == true) and 60) or characterLoadTimeout
        repeat task.wait(0.25) until Players.LocalPlayer.Character or time() > characterLoadTimeout
        if not Players.LocalPlayer.Character then isSystemActive = false end
    end)

    -- Customize this function so it returns true when the account should be marked as successful.
    local function success()
        return false
    end

    local function stopSystem(reason)
        if not isSystemActive then return end
        isSystemActive = false
        print(string.format("Heartbeat System: Stopping. Reason: %s", reason))
    end

    local function sendHeartbeat()
        if not isSystemActive or not LocalPlayer or (tick() - lastHeartbeatSent < HEARTBEAT_INTERVAL) then
            return
        end

        lastHeartbeatSent = tick()
        local userId = LocalPlayer.UserId
        local payload = { userId = userId }

        local shouldReportSuccess = hasSentSuccess
        if not shouldReportSuccess then
            local ok, result = pcall(success)
            if not ok then
                warn("Heartbeat System: success() errored: " .. tostring(result))
            elseif result then
                hasSentSuccess = true
                shouldReportSuccess = true
                print("Heartbeat System: Success condition met. Flagging account as successful.")
            end
        end

        if shouldReportSuccess then
            payload.success = true
        end

        local requestData = {
            Url = string.format("http://%s:%d/heartbeat", SERVER_IP, SERVER_PORT),
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(payload)
        }

        task.spawn(function()
            local success, response = pcall(function()
                return http_request(requestData)
            end)

            if not success then
                warn("Heartbeat System: Critical error calling http_request: " .. tostring(response))
            elseif response and not response.Success then
                warn(string.format("Heartbeat System: Failed to send. Code: %s, Message: %s",
                    tostring(response.StatusCode), tostring(response.StatusMessage)))
            end
        end)
    end

    if not LocalPlayer then
        print("Heartbeat System: Waiting for LocalPlayer...")
        LocalPlayer = Players.PlayerAdded:Wait()
    end
    print(string.format("Heartbeat System: Initialized for %s (ID: %d)", LocalPlayer.Name, LocalPlayer.UserId))

    GuiService.ErrorMessageChanged:Connect(function()
        task.wait(0.2)
        local errorEnum = GuiService:GetErrorCode()
        local errorCode = errorEnum and errorEnum.Value or 0

        if errorCode >= Enum.ConnectionError.DisconnectErrors.Value
            and errorCode <= Enum.ConnectionError.PlacelaunchOtherError.Value then

            local errorName = "Unknown"
            if errorEnum then
                errorName = errorEnum.Name
            else
                for _, enumItem in ipairs(Enum.ConnectionError:GetEnumItems()) do
                    if enumItem.Value == errorCode then
                        errorName = enumItem.Name
                        break
                    end
                end
            end

            stopSystem(string.format("Game Disconnect Error (%d: %s)", errorCode, errorName))
            task.delay(1, function()
                game:Shutdown()
            end)
        end
    end)

    TeleportService.TeleportInitFailed:Connect(function(player, teleportResult, errorMessage)
        if player == LocalPlayer then
            stopSystem(string.format("Teleport Failed (%s)", teleportResult.Name))
        end
    end)

    LocalPlayer.OnTeleport:Connect(function(teleportState)
        if teleportState == Enum.TeleportState.Started then
            stopSystem("Teleport Started")
        end
    end)

    RunService.Heartbeat:Connect(function()
        sendHeartbeat()
    end)

end)

local RunService = game:GetService("RunService")
--[[
task.spawn(function()
    while task.wait(3) do
        RunService:Set3dRenderingEnabled(true)
        task.wait(0.1)
        RunService:Set3dRenderingEnabled(false)
    end
end)]]


local HttpService = game:GetService("HttpService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local GuiService = game:GetService("GuiService")
local VirtualUser = game:GetService("VirtualUser")
local tweenService = game:GetService("TweenService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

repeat task.wait() until Players.LocalPlayer
task.wait(5)
local LocalPlayer = Players.LocalPlayer

local Backpack = LocalPlayer:WaitForChild("Backpack")
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local CommF_ = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("CommF_")
local Data = LocalPlayer.Data

local run_quarty = {}

local banana_keys = {
    ['PC-240'] = "5cd825159627a0b9e858406a",
    ['PC-250'] = "2daa0763af6a2a7b31c247ee", --pp
    ['PC-260'] = "d94fc3686c260ead72afe0ee",
    ['PC-270'] = "8ff0e266d9e99c03b29aefa4",
    ['PC-290'] = "ec2879826d5e6831b1d973ae",
    ['PC-300'] = "7832599e58fa2ff3bc6f4cc8", --
    ['PC-310'] = "bde4df67d32723790652fca5",
    ['PC-320'] = "a62e7e044cc6801cde22047e",
    ['PC-330'] = "4961bad421f4f21e14d8d0e9",
    ['PC-340'] = "d315e33ed33c7a5a66346871", --t
    ['PC-350'] = "44a94c9b1352d82e62481fca", --t
    ['PC-360'] = "7ae7da9c819aec02114e577e", --t
    ['PC-370'] = "53f90f1032025bcac2d89daa",
    ['PC-380'] = "bc664e84da988dfa89adfb74",
    ['PC-390'] = "1dc7942fc904eba807d46b62",
}

task.spawn(function()
    task.wait(50)
    pcall(function()
        local data_load = game:GetService("Players").LocalPlayer.Character
        if not data_load then
            local c
            for i=1, 10 do
                task.wait(1)
                c = game:GetService("Players").LocalPlayer.Character
            end
            if not c then
                return
            end
        end
        while task.wait() do
            pcall(function()
                local Data = game:GetService("Players").LocalPlayer.Data
                if Data and Data.Beli then
                    _G.startm = Data.Beli.Value
                    task.wait(600)
                    if _G.startm == Data.Beli.Value then
                        game:Shutdown()
                    end
                end
            end)
        end
    end)
    game:Shutdown()
end)

task.spawn(function()
    task.wait(50)
    task.spawn(function()
        while not ((Data.Race.Value == 'Mink') or (Data.Race.Value == 'Human')) do
            pcall(function()
                if Data.Fragments.Value >= 5000 then
                    CommF_:InvokeServer("BlackbeardReward", "Reroll", "2")
                end
                task.wait(1)
            end)
        end
    end)
end)

if true or tonumber((string.gsub(PC_NAME, "%D", ""))) < 41 then
    getgenv().Hermanos_Settings = {
        ['key'] = '37a23e8d-9c4d-4c44-bf82-344a77211d72',
        ['PC'] = PC_NAME,

        ['webhooks'] = {
            ['fullmoon'] = 'https://discord.com/api/webhooks/',
            ['mirage'] = 'https://discord.com/api/webhooks/',
        },
        ['Sword'] = {'Cursed Dual Katana', 'Shark Anchor', 'Tushita', 'Yama', 'Dark Dagger', 'Hallow Scythe', 'Saber'},
        ['Gun'] = {'Soul Guitar', 'Serpent Bow', 'Kabucha', 'Acidum Rifle'},
        ['Accessories'] = {'Dark Coat', 'Leviathan Shield', 'Leviathan Crown', 'Pale Scarf', 'Kitsune Mask', 'Kitsune Ribbon'},
        ['Fruit'] = {
            'Kitsune', 'Tiger', 'Dragon (West)', 'Spirit', 'Control', 'Venom', 'Gas', 'Yeti',
            'Shadow', 'Dough', 'Mammoth', 'T-Rex', 'Dragon (East)', 'Lightning', 'Gravity', 'Pain', 'Sadness Pain', 'Torment Pain', 'Frustration Pain', 'Buddha'
        }
    }

    task.spawn(function() loadstring(game:HttpGet('https://raw.githubusercontent.com/hermanos-dev/hermanos-script/main/main.lua'))() end)
else
    getgenv().Hermanos_Settings = {
        ['key'] = '6a1c508e-0248-46bd-9682-458bf0791419',
        ['PC'] = PC_NAME,

        ['webhooks'] = {
            ['fullmoon'] = 'https://discord.com/api/webhooks/',
            ['mirage'] = 'https://discord.com/api/webhooks/',
        },
        ['Sword'] = {'Cursed Dual Katana', 'Shark Anchor', 'Tushita', 'Yama', 'Dark Dagger', 'Hallow Scythe', 'Saber'},
        ['Gun'] = {'Soul Guitar', 'Serpent Bow', 'Kabucha', 'Acidum Rifle'},
        ['Accessories'] = {'Dark Coat', 'Leviathan Shield', 'Leviathan Crown', 'Pale Scarf', 'Kitsune Mask', 'Kitsune Ribbon'},
        ['Fruit'] = {
            'Kitsune', 'Tiger', 'Dragon (West)', 'Spirit', 'Control', 'Venom', 'Gas', 'Yeti',
            'Shadow', 'Dough', 'Mammoth', 'T-Rex', 'Dragon (East)', 'Lightning', 'Gravity', 'Pain', 'Sadness Pain', 'Torment Pain', 'Frustration Pain', 'Buddha'
        }
    }

    task.spawn(function() loadstring(game:HttpGet('https://raw.githubusercontent.com/hermanos-dev/hermanos-script/main/main.lua'))() end)
    --[[
else
    getgenv().Hermanos_Settings = {
        ['key'] = '72969c00-73e6-4500-9d8f-94d4ef066c53',
        ['PC'] = PC_NAME,

        ['webhooks'] = {
            ['fullmoon'] = 'https://discord.com/api/webhooks/',
            ['mirage'] = 'https://discord.com/api/webhooks/',
        },
        ['Sword'] = {'Cursed Dual Katana', 'Shark Anchor', 'Tushita', 'Yama', 'Dark Dagger', 'Hallow Scythe', 'Saber'},
        ['Gun'] = {'Soul Guitar', 'Serpent Bow', 'Kabucha', 'Acidum Rifle'},
        ['Accessories'] = {'Dark Coat', 'Leviathan Shield', 'Leviathan Crown', 'Pale Scarf', 'Kitsune Mask', 'Kitsune Ribbon'},
        ['Fruit'] = {
            'Kitsune', 'Tiger', 'Dragon (West)', 'Spirit', 'Control', 'Venom', 'Gas', 'Yeti',
            'Shadow', 'Dough', 'Mammoth', 'T-Rex', 'Dragon (East)', 'Lightning', 'Gravity', 'Pain', 'Sadness Pain', 'Torment Pain', 'Frustration Pain', 'Buddha'
        }
    }
    
    task.spawn(function() loadstring(game:HttpGet('https://raw.githubusercontent.com/hermanos-dev/hermanos-script/main/main.lua'))() end)]]
end


getgenv().Mode = "OneClick"
getgenv().Setting = {
    ["Team"] = "Pirates", -- Options "Pirates", "Marines"
    ["FucusOnLevel"] = true,
    ["Fruits"] = {  -- setting for fruits u want
        ["Primary"] = { -- if current fruit is not in this list, eat/buy
            "Kitsune-Kitsune",
            "Dough-Dough",
            "Tiger-Tiger",
            "Yeti-Yeti",
            "T-Rex-T-Rex",
            "Gas-Gas",
            "Mammoth-Mammoth",
            -- u can configs add mores/remove and must end with , (comma symbol)
        },
        ["Normal"] = {
            "Light-Light",
            "Magma-Magma",
            "Ice-Ice",
            "Dark-Dark",
            -- u can configs add mores/remove and must end with , (comma symbol)
        }
        -- run this for get all fruit name `local t={};for _,v in pairs(game.ReplicatedStorage.Remotes.CommF_:InvokeServer("GetFruits"))do table.insert(t,v.Name)end;setclipboard(table.concat(t, "\n"))`
    },
    ["Lock Fruits"] = { -- don't use or eat fruits in this list
        "Kitsune-Kitsune",
        "Dough-Dough",
        "Dragon-Dragon",
        --"T-Rex-T-Rex",
        --"Mammoth-Mammoth",
        --"Tiger-Tiger",
        --"Gas-Gas",
        --"Yeti-Yeti",
        "Gravity-Gravity",
        "Shadow-Shadow",
        "Venom-Venom",
        "Control-Control",
        "Spirit-Spirit",
    },
    ["IdleCheck"] = 300, -- every (x) seconds if not moving rejoin
};
getgenv().user_key = 'd3a2f9baa8e3a58cb85bb0b2039e4a92'
loadstring(game:HttpGet("https://raw.githubusercontent.com/xQuartyx/QuartyzScript/main/OneClick/BF.lua"))()
